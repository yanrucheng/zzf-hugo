{{ $featured_video := partial "func/GetFeaturedVideo.html" . }}
{{ $featured_image := partial "func/GetFeaturedImage.html" . }}

{{ $featured_media_class := site.Params.featured_media_class | default "cover bg-top" }}
{{ $cover_dimming_class := site.Params.cover_dimming_class | default "bg-black-60" }}
{{ $background_color_class := site.Params.background_color_class | default "bg-black" }}

<header class="{{ $featured_media_class }} relative overflow-hidden {{ if not (or $featured_video $featured_image) }}{{ $background_color_class }}{{ end }}">
  {{ if $featured_video }}
    <!-- Video Background -->
  <video autoplay loop muted playsinline class="absolute top-0 left-0 w-100 h-100 object-cover z--1">
      <source src="{{ $featured_video | absURL }}" type="video/mp4">
      <p>Your browser does not support HTML5 video.</p>
    </video>
  {{ else if $featured_image }}
    <!-- Image Background -->
    <div class="absolute top-0 left-0 w-100 h-100 bg-center cover" style="background-image: url('{{ $featured_image | absURL }}');"></div>
  {{ end }}

  <!-- Dimming Layer and Content -->
  <div class="{{ $cover_dimming_class }} relative z-1 w-100 h-100">
    {{ partial "site-navigation.html" . }}
    <div class="tc-l pv4 pv6-l ph3 ph4-ns">
      <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
        {{ .Title | default .Site.Title }}
      </h1>
      {{ with .Params.description }}
        <h2 class="fw1 f5 f3-l white-80 measure-wide-l center mt3">
          {{ . }}
        </h2>
      {{ end }}
    </div>
  </div>
</header>
