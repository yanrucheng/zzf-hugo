{{ if eq .animation_type "video" }}
    <div class="scroll-animation-container">
        <video id="scroll-video" muted loop playsinline>
            <source src="{{ .Site.BaseURL }}{{ .animation_video_path }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <script>
        const video = document.getElementById('scroll-video');

        // Pause the video initially to prevent autoplay
        video.pause();

        // Update video playback based on scroll position
        window.addEventListener('scroll', () => {
            const scrollFraction = window.scrollY / (document.body.scrollHeight - window.innerHeight);
            const videoTime = scrollFraction * video.duration;
            video.currentTime = videoTime;
        });
    </script>
{{ end }}
